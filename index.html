<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Chasse au tr√©sor üéÇ</title>

  <style>
    body {
      font-family: Arial, sans-serif;
      background: #111;
      color: white;
      text-align: center;
      margin: 0;
      padding: 0;
    }

    h1 { margin: 20px 0; }

    .grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 15px;
      max-width: 600px;
      margin: 30px auto;
    }

    .item {
      text-align: center;
    }

    img {
      width: 100%;
      border-radius: 10px;
    }

    .locked {
      filter: blur(12px) grayscale(1) brightness(0.5);
    }

    .label {
      margin-top: 8px;
      font-size: 16px;
      min-height: 22px;
    }

    @keyframes pop {
      0% { transform: scale(0); opacity: 0; }
      50% { transform: scale(1.2); opacity: 1; }
      100% { transform: scale(1); opacity: 1; }
    }

    .pop {
      animation: pop 0.5s ease;
    }

    #counter {
      font-size: 20px;
      margin-top: 20px;
    }
  </style>
</head>

<body>

<h1>üéÅ Anniversaire L√©a üéÅ</h1>

<div class="grid">

  <div class="item">
    <img id="img1" class="locked" src="img1_locked.jpg">
    <div class="label" id="label1"></div>
  </div>

  <div class="item">
    <img id="img2" class="locked" src="img2_locked.jpg">
    <div class="label" id="label2"></div>
  </div>

  <div class="item">
    <img id="img3" class="locked" src="img3_locked.jpg">
    <div class="label" id="label3"></div>
  </div>

  <div class="item">
    <img id="img4" class="locked" src="img4_locked.jpg">
    <div class="label" id="label4"></div>
  </div>

  <div class="item">
    <img id="img5" class="locked" src="img5_locked.jpg">
    <div class="label" id="label5"></div>
  </div>

  <div class="item">
    <img id="img6" class="locked" src="img6_locked.jpg">
    <div class="label" id="label6"></div>
  </div>

  <div class="item">
    <img id="img7" class="locked" src="img7_locked.jpg">
    <div class="label" id="label7"></div>
  </div>

  <div class="item">
    <img id="img8" class="locked" src="img8_locked.jpg">
    <div class="label" id="label8"></div>
  </div>

  <div class="item">
    <img id="img9" class="locked" src="img9_locked.jpg">
    <div class="label" id="label9"></div>
  </div>

</div>

<div class="grid">
  <div class="item">
    <img id="img10" class="locked" src="img10_locked.jpg">
    <div class="label" id="label10"></div>
  </div>

  <div class="item">
    <img id="img11" class="locked" src="img11_locked.jpg">
    <div class="label" id="label11"></div>
  </div>

  <div class="item">
    <img id="img12" class="locked" src="img12_locked.jpg">
    <div class="label" id="label12"></div>
  </div>
</div>

<div id="counter">0 / 12</div>

<script>
const TOTAL = 12;

const labels = {
  1: "üéà D√©but de l‚Äôaventure",
  2: "üç∞ Indice cuisine",
  3: "üé∂ Souvenir musical",
  4: "üì∏ Photo myst√®re",
  5: "üè† Coin du salon",
  6: "üéÅ Cadeau cach√©",
  7: "üïµÔ∏è Indice secret",
  8: "üå∏ Moment doux",
  9: "üî• Presque fini",
  10: "üéâ Surprise finale",
  11: "üíñ Souvenir sp√©cial",
  12: "üèÜ Tr√©sor trouv√©"
};

let unlocked = JSON.parse(localStorage.getItem("unlocked")) || [];

const params = new URLSearchParams(window.location.search);
const unlock = params.get("unlock");

if (unlock) {
  const n = Number(unlock);

  if (!unlocked.includes(n)) {
    unlocked.push(n);
    localStorage.setItem("unlocked", JSON.stringify(unlocked));
  }
}

// Appliquer images + texte
unlocked.forEach(n => {
  const img = document.getElementById("img" + n);
  const label = document.getElementById("label" + n);

  if (img) {
    img.src = "img" + n + ".jpg";
    img.classList.remove("locked");
    img.classList.add("pop");
  }

  if (label && labels[n]) {
    label.textContent = labels[n];
    label.classList.add("pop");
  }
});

// Compteur
document.getElementById("counter").textContent =
  unlocked.length + " / " + TOTAL;
</script>

</body>
</html>
